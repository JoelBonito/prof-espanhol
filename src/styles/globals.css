@import "tailwindcss";

/* === Custom Theme Tokens (Design System v1.0) === */
@theme {
  /* Primary — Terracota */
  --color-primary-50: #FDF1EB;
  --color-primary-100: #FBDDD0;
  --color-primary-200: #F5B9A0;
  --color-primary-400: #E7724B;
  --color-primary-500: #EC5B13;
  --color-primary-600: #D14F0F;
  --color-primary-700: #B5430D;
  --color-primary-900: #7A2D09;

  /* Semantic */
  --color-success: #0D9488;
  --color-success-light: #E8F5E9;
  --color-warning: #D97706;
  --color-warning-light: #FEF3C7;
  --color-error: #DC2626;
  --color-error-light: #FFEBEE;
  --color-info: #2563EB;
  --color-info-light: #EFF6FF;

  /* Neutrals — Stone/Warm */
  --color-neutral-50: #FAFAF8;
  --color-neutral-100: #F5F1ED;
  --color-neutral-200: #E5DDDC;
  --color-neutral-300: #D4CBC5;
  --color-neutral-400: #A89B92;
  --color-neutral-500: #896F61;
  --color-neutral-600: #6B5B50;
  --color-neutral-700: #4A3F38;
  --color-neutral-800: #2D2420;
  --color-neutral-900: #181311;

  /* Chat — Dark Mode */
  --color-chat-bg: #1A1A2E;
  --color-chat-surface: #23233B;
  --color-chat-bubble-tutor: #1F4A4A;
  --color-chat-bubble-user: #34344A;
  --color-chat-text: #E2E8F0;
  --color-chat-muted: #94A3B8;

  /* Fonts */
  --font-display: "Lora", Georgia, serif;
  --font-body: "Inter", system-ui, -apple-system, sans-serif;

  /* Border Radius */
  --radius-sm: 6px;
  --radius-default: 10px;
  --radius-lg: 16px;
  --radius-xl: 24px;
  --radius-full: 9999px;

  /* Shadows */
  --shadow-card: 0 1px 2px rgba(0, 0, 0, 0.05);
  --shadow-elevated: 0 4px 6px rgba(0, 0, 0, 0.07);
  --shadow-modal: 0 10px 25px rgba(0, 0, 0, 0.08);
  --shadow-flashcard: 0 20px 50px rgba(0, 0, 0, 0.08);
  --shadow-chat: 0 4px 12px rgba(0, 0, 0, 0.3);

  /* Durations */
  --duration-fast: 100ms;
  --duration-default: 200ms;
  --duration-slow: 300ms;
  --duration-progress: 1000ms;
  --duration-reveal: 500ms;
}

/* === Base Styles === */
@layer base {
  html {
    font-family: var(--font-body);
    color: var(--color-neutral-900);
    background-color: var(--color-neutral-50);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      transition-duration: 0.01ms !important;
    }
  }

  /* Focus ring */
  :focus-visible {
    outline: 2px solid var(--color-primary-500);
    outline-offset: 2px;
    border-radius: var(--radius-default);
  }

  /* Selection */
  ::selection {
    background-color: var(--color-primary-500);
    color: white;
  }
}

/* === Animations === */
@keyframes waveform {
  0%, 100% { height: 10%; }
  50% { height: 100%; }
}

@keyframes pulse-scale {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* === Safe Area (bottom nav on iPadOS) === */
.safe-area-pb {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}
